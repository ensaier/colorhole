// Colorhole, Oleksandr Tryshchenko, Oleksandr Tryshchenko http://tryshchenko.com, MIT Licence
var Colorhole=function(){"use strict";var a=function(a){(void 0==a||7!==a.length&&4!==a.length)&&(a="#ffffff",console.warn("Wrong value passed into Colorhole constructor. Default value selected")),this.schema=["red","green","blue"],this.pick(a)};return a.prototype={pick:function(a){var b=2,c=1;return this.color=a,4==a.length&&(b=1,c=16),this.red=parseInt(a.substr(1,b),16),this.green=parseInt(a.substr(1+b,b),16)*c,this.blue=parseInt(a.substr(1+2*b,b),16)*c,this},darken:function(a){return a=a||2,this.schema.forEach(function(b){this[b]=Math.abs(Math.floor(this[b]/a))}.bind(this)),this.toString(),this},lighter:function(a){return a=a||2,this.schema.forEach(function(b){var c=(255-this[b])/a*(a-1),d=Math.abs(Math.floor(this[b]+c));this[b]=d}.bind(this)),this.toString(),this},inverse:function(){return this.schema.forEach(function(a){this[a]=Math.abs(Math.floor(255-this[a]))}.bind(this)),this.toString(),this},grayscale:function(){var a=[],b=0,c=0;return this.schema.forEach(function(b){a.push(this[b])}.bind(this)),c=a.reduce(function(a,b){return a+b},0),b=Math.abs(Math.floor(c/this.schema.length)),this.schema.forEach(function(a){this[a]=b}.bind(this)),this.toString(),this},closerExtreme:function(){var a=255,b=0,c=0;return this.schema.forEach(function(a){c+=this[a]}.bind(this)),b=c/this.schema.length,b>150&&(a=0),this.schema.forEach(function(b){this[b]=a}.bind(this)),this.toString(),this},toString:function(){this.schema.forEach(function(a){this[a]=this.makeHexademical(this[a])}.bind(this)),this.color="#"+this.red+this.green+this.blue},toRGBA:function(a){a=a||1;var b="rgba(";return this.schema.forEach(function(a){b+=this[a]+", "}.bind(this)),b+=a+")"},makeHexademical:function(a){var b=a.toString(16);return 1==b.length&&(b="0"+b),b}},"object"==typeof module&&module.exports&&(module.exports=a),a}();